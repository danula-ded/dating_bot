# This is dating_bot

**Практика: написание Dating приложения**

**Варианты алгоритмов рейтинга:**

**Уровень 1: Первичный рейтинг**

1. Формируется на основе данных из анкеты пользователя (возраст, пол, интересы, географическое положение)

2. Учитывает полноту заполнения анкеты и колличество загруженных фотографий

3. Включает первичные предпочтения пользователя (возрастной диапазон, пол, город)

**Уровень 2: Поведенческий рейтинг**

1. Динамически корректируется на основе взаимодействия других пользователей с

анкетой:

1. Количество лайков анкеты

2. Соотношение лайков и пропусков

3. Частота взаимных лайков (мэтчей)

4. Частота инициирования диалогов после мэтча

a) Включает временные параметры (активность в определенное время суток)

**Уровень 3: Комбинированный рейтинг**

1. Интегрирует первичный и поведенческий рейтинги по весовой модели

2. Учитывает дополнительные факторы:

c) Приглашение друзей (реферальная система)

**Доп баллы:**

- Хранение рейтингов в отдельной таблице с регулярными пересчетами через Celery
- Использование Redis для кэширования предварительно отранжированных списков анкет. Пользователь когда начинает сессию, то первая анкета проходит полный путь через все сервисы и одновременно подгружаются например 10 других анкет в редис чтобы далее юзеру проще их было получать. На последней анкете из 10 круг повторяется.
- Применение Apache Kafka/RabbitMQ/любой другой mq, для потоковой обработки событий взаимодействия с анкетами и общения сервисов
- Применение метрик в любых местах приложения, логирование
- Использование S3 хранилища для изображений. (пример: Minio)
- Любой другой вариант реализации системы обговариваем лично

**Примерные Этапы**

**Этап 1: Планирование и проектирование**

● Создаем описание сервисов

● Проектирование архитектуры и рисуем схему дизайна системы

● Создание схемы данных в БД

● Создаем гит репу чтобы я мог сделать таблицу и отслеживать вас

**Этап 2: Разработка базовой функциональности**

● Написание сервиса бота, реализация интерфейса пользователя (интеграция с Telegram Bot API)

● Реализация регистрации (берем id телеграма юзера при /start команде например)

**Этап 3: Система анкет и ранжирования**

● Разработка CRUD для анкет

● Реализация алгоритма ранжирования (по минимум одному пункту из каждого уровня)

● Внедрение системы кэширования анкет в Redis (или любой другой)

● Интеграция с сервисом бота (напрямую или через MQ)

**Этап 4: Дополнительные функции**

● Настройка отложенных задач через Celery

● Оптимизация базы данных

● Тестирование продукта

● Оптимизация производительности

● Деплой на сервер или разворачиваем локально и на зачете показываем

На каждои этапе вы можете уходить в свободное творчество и добавлять/убирать пункты, работа будет оцениваться индивидуально, насколько точно повторена идея Дэйтинг бота и насколько много функциоанала есть в боте, либо насколько система продумана внутри. Любое нестандартное решение оцениваться будет выше чем стандартное.

**Система оценивания**

| Пункт номер | Название                        | Описание                                                                                                  | Кол-во баллов              |
| ----------- | ------------------------------- | --------------------------------------------------------------------------------------------------------- | -------------------------- |
| 1           | **Рейтинг:**                    | Один пункт из каждого уровня                                                                              | 1                          |
|             |                                 | Два пункта из каждого уровня                                                                              | 2                          |
|             |                                 | Все пункты из каждого уровня                                                                              | 3                          |
| 2           | **Использование Redis**         | Любое обоснованное применение, (использование только для работы с Сelery расценивается как 1 балл)        | 0-2                        |
| 3           | **Использование Celery**        | Любое обоснованное применение                                                                             | 0-2                        |
| 4           | **Применение MQ брокера**       | Любое обоснованное применение (использование только для работы с Сelery расценивается как 1 балл)         | 0-2                        |
| 5           | **Метрики и Логирование**       | Любое обоснованное применение                                                                             | 0-2                        |
| 6           | **S3 хранилище**                | Любое обоснованное применение                                                                             | 0-2                        |
| 7           | **Настройка CI/CD для бота**    | СI/CD, Jenkins, Github actions. Любое обоснованное применение                                             | 0-1                        |
| 8           | **Другое**                      | Использование и дополнительные баллы за другие технологий или архитектурные решения обговариваем отдельно | 0-2(за каждый новый пункт) |
| 9           | **Этапы продукта** (12+ баллов) | Планирование и проектирование (первый этап в ТЗ)                                                          | 0-3                        |
|             |                                 | Разработка базовой функциональности(второй этап в ТЗ)                                                     | 0-3                        |
|             |                                 | Система анкет и ранжирования(первые два пункта из третьего этапа в ТЗ)                                    | 0-3                        |
|             |                                 | База данных (любая) настроена и работает, в ней реализована схема данных из первого этапа                 | 0-3                        |
|             |                                 | Бот работает ручные тесты выдерживает                                                                     | 0-3                        |
|             |                                 | Проведение нагрузочного тестирования с помощью Apache JMeter (если в другом формате, обговариваем лично)  | 0-1                        |
|             |                                 | Другой этап(обговариваем с вами лично) (пример: сервис notification etc…)                                 | 0-3(за каждый новый пункт) |

**Пояснение к таблице**

1. Под **ТЗ** подразумевается документ в тг группе - Практика-Дэйтинг-Бот.docx
2. **Любое обоснованное применение** означает применение технологии, если без нее задуманный функционал невозможно или менее эффективно можно реализовать в рамках базового этапа.

**Примеры:**

**Celery**

- Если Celery просто интегрирован, но используется для задач, которые можно было бы решить без него, баллы не начисляются.

**Redis**

- Использование Redis как основного хранилища данных вместо нормальной базы данных
- Хранение статичных данных (например, городов, стран, настроек), которые редко меняются и не требуют кэширования.

**Метрики и Логирование**

- Логирование каждого запроса в консоль, из-за чего сервер задыхается от гигабайтов логов.
- Запись ошибок в логи без полезной информации (например, просто Error happened! вместо Ошибка в модуле matchmaking: не найден профиль #1234).

**И другие аналогичные примеры по всем пунткам**

**Вывод:** Технологии должны помогать, а не усложнять просто так код. Если можно сделать проще без потери качества – значит, усложнение не засчитывается.

**Оценки**

Оценка 3 – 17 баллов (основная часть 16 баллов + 1 доп балл)

Оценка 4 – 24 баллов

Оценка 5 – 30+ баллов

Всего можно получить 33 балла без дополнительных пунктов
